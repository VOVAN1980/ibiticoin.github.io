<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>IBITIcoin â€“ Home</title>

  <!-- SEO -->
  <meta name="description" content="IBITIcoin is an innovative cryptocurrency on BNB Smart Chain designed for fast, secure and accessible participation in the digital economy.">
  <meta name="keywords" content="IBITIcoin, cryptocurrency, investment, blockchain, DeFi, BNB Smart Chain">
  <meta name="author" content="IBITIcoin Team">

  <!-- Facebook Domain Verification -->
  <meta name="facebook-domain-verification" content="gry2h4kbugyrwzn0qhcuh838y7hj5v" />

  <!-- Open Graph (Facebook, Telegram, WhatsApp) -->
  <meta property="og:title" content="IBITIcoin â€“ The Future of Digital Finance">
  <meta property="og:description" content="Learn how IBITIcoin makes crypto more accessible and secure for everyone.">
  <meta property="og:image" content="https://www.ibiticoin.com/img/og-image.png" />
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="IBITIcoin Logo â€“ next-generation digital currency" />
  <meta property="og:url" content="https://www.ibiticoin.com/">
  <meta property="og:type" content="website">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@ibiticoin">
  <meta name="twitter:title" content="IBITIcoin â€“ The Future of Digital Finance">
  <meta name="twitter:description" content="Learn how IBITIcoin makes crypto more accessible and secure for everyone.">
  <meta name="twitter:image" content="https://www.ibiticoin.com/img/og-image.png">
  
  <!-- Global CSS -->
  <link rel="stylesheet" href="css/style.css">
  
  <!-- AOS animations -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">

  <!-- i18next, jQuery and localization plugins (currently disabled) -->
  <!--
  <script src="https://unpkg.com/i18next@21.10.1/i18next.min.js"></script>
  <script src="https://unpkg.com/i18next-http-backend@1.4.1/i18nextHttpBackend.min.js"></script>
  <script src="https://unpkg.com/i18next-browser-languagedetector@6.1.3/i18nextBrowserLanguageDetector.min.js"></script>
  <script src="https://unpkg.com/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://unpkg.com/jquery-i18next@1.2.1/jquery-i18next.min.js"></script>
  <script>
    i18next
      .use(i18nextHttpBackend)
      .use(i18nextBrowserLanguageDetector)
      .init({}, function(err, t) {
        jqueryI18next.init(i18next, $, { useOptionsAttr: true });
        $('body').localize();
      });
  </script>
  -->

  <!-- Google Tag Manager / Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-T5DF4BLR5S"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-T5DF4BLR5S');
  </script>
  
  <!-- Google Translate widget -->
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: 'ru,uk,en,zh-CN,ja,fr,de,pl,es,pt,ko',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
      }, 'google_translate_element');
    }
  </script>
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

  <!-- Web3Modal + WalletConnect -->
  <script src="https://unpkg.com/@walletconnect/web3-provider@1.6.6/dist/umd/index.min.js"></script>
  <script src="https://unpkg.com/web3modal@1.9.8/dist/index.js"></script>

  <!-- ethers.js v6 (UMD) -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.10.0/dist/ethers.umd.min.js"></script>
  <script>
    if (!window.ethers) {
      console.error('Failed to load ethers v6');
    }
  </script>

  <style>
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.7);
    }
    .modal-content {
      background-color: #111;
      margin: 10% auto;
      padding: 20px;
      border: 2px solid gold;
      width: 80%;
      max-width: 500px;
      border-radius: 10px;
      text-align: center;
      color: gold;
      position: relative;
    }
    .modal-content h3 {
      margin-top: 0;
      font-size: 1.8em;
    }
    .modal-content .share-options a {
      display: inline-block;
      margin: 10px;
      padding: 10px 20px;
      background: gold;
      color: #000;
      text-decoration: none;
      border-radius: 5px;
      transition: transform 0.3s;
    }
    .modal-content .share-options a:hover {
      transform: scale(1.1);
    }
    .modal-content .close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 1.5em;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- ðŸŽ„ Christmas overlay -->
<div id="xmasOverlay" class="xmas-overlay" aria-hidden="true">
  <div id="garland" class="garland"></div>

  <svg class="xmas-tree tree-left" viewBox="0 0 160 260" role="img">
    <g class="tree-sway">
      <polygon points="80,20 25,95 55,95 15,155 55,155 30,205 130,205 105,155 145,155 105,95 135,95"
               class="tree-body"/>
      <rect x="70" y="205" width="20" height="30" rx="4" class="tree-trunk"/>
      <circle cx="55" cy="105" r="5" class="tree-light l1"/>
      <circle cx="95" cy="115" r="5" class="tree-light l2"/>
      <circle cx="70" cy="145" r="5" class="tree-light l3"/>
      <circle cx="110" cy="155" r="5" class="tree-light l4"/>
      <circle cx="60" cy="180" r="5" class="tree-light l2"/>
      <circle cx="100" cy="185" r="5" class="tree-light l1"/>
      <polygon points="80,10 86,24 101,25 89,35 93,49 80,41 67,49 71,35 59,25 74,24"
               class="tree-star"/>
    </g>
  </svg>

  <svg class="xmas-tree tree-right" viewBox="0 0 160 260" role="img">
    <g class="tree-sway">
      <polygon points="80,20 25,95 55,95 15,155 55,155 30,205 130,205 105,155 145,155 105,95 135,95"
               class="tree-body"/>
      <rect x="70" y="205" width="20" height="30" rx="4" class="tree-trunk"/>
      <circle cx="55" cy="105" r="5" class="tree-light l3"/>
      <circle cx="95" cy="115" r="5" class="tree-light l1"/>
      <circle cx="70" cy="145" r="5" class="tree-light l4"/>
      <circle cx="110" cy="155" r="5" class="tree-light l2"/>
      <circle cx="60" cy="180" r="5" class="tree-light l1"/>
      <circle cx="100" cy="185" r="5" class="tree-light l3"/>
      <polygon points="80,10 86,24 101,25 89,35 93,49 80,41 67,49 71,35 59,25 74,24"
               class="tree-star"/>
    </g>
  </svg>

  <canvas id="snowCanvas"></canvas>
</div>
  
  <!-- Corner buttons -->
  <div class="corner-box corner-box-left">
    <a href="/">Home</a>
  </div>
  <div class="corner-box corner-box-left2">
    <a href="blog.html">Blog</a>
  </div>
  <div class="corner-box corner-box-right">
    <a href="roadmap.html">Roadmap</a>
  </div>
  <div class="corner-box corner-box-right-langs">
    <div id="google_translate_element"></div>
  </div>
  
  <!-- Hero header -->
  <header class="hero-header">
    <img src="img/logo.png" alt="IBITIcoin Logo" width="200">
    <h1>IBITIcoin</h1>
    <p>Stability | Innovation | Accessibility</p>
  </header>

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Main content -->
  <section class="gold-section" data-aos="fade-up">
    <h2>WHY CHOOSE IBITIcoin?</h2>
    <p>
      IBITIcoin is an innovative cryptocurrency on <strong>BNB Smart Chain</strong>, created for fast,
      secure and accessible work in the digital economy. Trading is live in the official
      <strong>IBITI / USDT</strong> liquidity pool on PancakeSwap, with on-chain modules for staking,
      NFTs and DAO governance in development.
    </p>
    <a class="btn"
       href="https://pancakeswap.finance/swap?chain=bsc&amp;outputCurrency=0x47F2FFCb164b2EeCCfb7eC436Dfb3637a457B9bb&amp;inputCurrency=0x55d398326f99059fF775485246999027B3197955"
       target="_blank" rel="noopener noreferrer">
      Buy IBITIcoin on PancakeSwap
    </a>
  </section>
  
  <!-- Extra navigation buttons -->
  <section class="extra-buttons-section">
    <a class="btn-small" href="calculator.html">Calculator</a>
    <a class="btn-small" href="video-guides.html">Video Guides</a>
    <a class="btn-small" href="news.html">News</a>
    <a class="btn-small" href="coin-chart.html">Chart</a>
    <a class="btn-small" href="nft.html">NFT Gallery</a>
    <a class="btn-small" href="shop.html">Shop</a>
    <a class="btn-small" href="book.html">Book</a>
    <a class="btn-small" href="staking.html">Staking</a>
    <a class="btn-small" id="openShareModal" href="#">Share</a>
  </section>

       <!-- About project -->
  <section class="gold-section" id="about">
    <h2>ABOUT IBITIcoin</h2>
    <p>
      IBITIcoin (IBITI) is a community-driven cryptocurrency on
      <strong>BNB Smart Chain (BEP-20)</strong> with a fixed supply and
      transparent on-chain tokenomics. The project focuses on
      <strong>long-term liquidity</strong>, <strong>fair distribution</strong>
      and building a modular DeFi ecosystem (staking, NFTs, DAO governance).
    </p>
    <p>
      The official trading pair is
      <strong>IBITI / USDT</strong> on PancakeSwap v2, with liquidity
      managed from a dedicated reserve wallet.
    </p>
  </section>

  <!-- Founder / Team -->
  <section class="gold-section" id="team">
    <h2>TEAM</h2>
    <div class="team-wrapper">
      <div class="team-card">
        <h3>Volodymyr Podkorytov</h3>
        <p class="role">Founder &amp; Lead Developer â€“ IBITIcoin</p>
        <p class="bio">
          Responsible for smart contracts on BNB Smart Chain, project architecture,
          liquidity management and long-term roadmap of the IBITI ecosystem.
        </p>
        <p class="links">
          <a href="https://www.linkedin.com/in/ibiticoin" target="_blank" rel="noopener">
            LinkedIn profile
          </a>
        </p>
      </div>
    </div>
  </section
  
  <footer>
  <p>&copy; 2025 IBITIcoin. All rights reserved.</p>

  <p>
    <a href="privacy.html">Privacy Policy</a> |
    <a href="terms.html">Terms of Use</a>
  </p>

  <p>
    <a href="https://x.com/ibiticoin" target="_blank">X (Twitter)</a> |
    <a href="https://t.me/IBITIcoin_chat" target="_blank">Telegram</a> |
    <a href="https://www.facebook.com/ibiticoin.ibiticoin/" target="_blank">Facebook</a> |
    <a href="https://www.linkedin.com/in/ibiticoin" target="_blank">LinkedIn</a>
  </p>

  <p>
    <a href="mailto:info@ibiticoin.com">info@ibiticoin.com</a>
  </p>
</footer>

  <!-- Share modal -->
  <div id="shareModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeShareModal">&times;</span>
      <h3>Select a social network to share</h3>
      <div class="share-options">
        <a id="share-facebook" href="#" target="_blank">Facebook</a>
        <a id="share-twitter" href="#" target="_blank">Twitter</a>
        <a id="share-vk" href="#" target="_blank">VK</a>
        <a id="share-telegram" href="#" target="_blank">Telegram</a>
        <a id="share-ok" href="#" target="_blank">OK</a>
        <a id="share-linkedin" href="#" target="_blank">LinkedIn</a>
        <a id="share-weibo" href="#" target="_blank">Weibo</a>
      </div>
    </div>
  </div>

  <!-- AOS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  <script>
    AOS.init({ once: true });
  </script>

  <!-- Tawk.to -->
  <script>
    var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
    (function(){
      var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
      s1.async = true;
      s1.src = 'https://embed.tawk.to/67db03deb73265190d550119/1imnoe7rb';
      s1.charset = 'UTF-8';
      s1.setAttribute('crossorigin', '*');
      s0.parentNode.insertBefore(s1, s0);
    })();
  </script>

  <!-- Share modal init -->
  <script>
    const shareModal = document.getElementById('shareModal');
    const openBtn    = document.getElementById('openShareModal');
    const closeBtn   = document.getElementById('closeShareModal');
    const pageUrl    = encodeURIComponent(window.location.href);
    const pageTitle  = encodeURIComponent(document.title);

    document.getElementById('share-facebook').href  = `https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;
    document.getElementById('share-twitter').href   = `https://twitter.com/intent/tweet?url=${pageUrl}&text=${pageTitle}`;
    document.getElementById('share-vk').href        = `https://vk.com/share.php?url=${pageUrl}&title=${pageTitle}`;
    document.getElementById('share-telegram').href  = `https://telegram.me/share/url?url=${pageUrl}&text=${pageTitle}`;
    document.getElementById('share-ok').href        = `https://connect.ok.ru/offer?url=${pageUrl}`;
    document.getElementById('share-linkedin').href  = `https://www.linkedin.com/sharing/share-offsite/?url=${pageUrl}`;
    document.getElementById('share-weibo').href     = `http://service.weibo.com/share/share.php?url=${pageUrl}&title=${pageTitle}`;

    openBtn.addEventListener('click', ev => {
      ev.preventDefault();
      shareModal.style.display = 'block';
    });
    closeBtn.addEventListener('click', () => shareModal.style.display = 'none');
    window.addEventListener('click', ev => {
      if (ev.target === shareModal) shareModal.style.display = 'none';
    });
  </script>

    <!-- Info popup: live trading status -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      Swal.fire({
        icon: 'info',
        title: 'IBITIcoin is live on PancakeSwap',
        html: `
          <b>Official trading pair: IBITI / USDT (BNB Smart Chain)</b><br><br>
          Contract: <code>0x47F2FFCb164b2EeCCfb7eC436Dfb3637a457B9bb</code><br><br>
          <a href="https://pancakeswap.finance/swap?chain=bsc&outputCurrency=0x47F2FFCb164b2EeCCfb7eC436Dfb3637a457B9bb&inputCurrency=0x55d398326f99059fF775485246999027B3197955"
             target="_blank" rel="noopener noreferrer">
            Open IBITI / USDT on PancakeSwap
          </a>
        `,
        confirmButtonText: 'Got it'
      });
    });
  </script>

  <script>
(() => {
  // Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð´ÐµÐºÐ°Ð±Ñ€ÑŒ (Ñ…Ð¾Ñ‡ÐµÑˆÑŒ Ð²ÑÐµÐ³Ð´Ð° â€” Ð·Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹ 2 ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð½Ð¸Ð¶Ðµ)
  const m = new Date().getMonth(); // 0=ÑÐ½Ð² ... 11=Ð´ÐµÐº
  if (m !== 11) return;

  // ===================== GARLAND (raised center + smooth chaos) =====================
  const garland = document.getElementById("garland");

  function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }

  function buildGarland() {
    if (!garland) return;

    // Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
    const colors = ["#ff5252","#39d98a","#4dabff","#ffd86a","#c77dff","#ff7a00"];

    const wireBaseY   = 14;    // Ð±Ð°Ð·Ð¾Ð²Ð°Ñ Ð²Ñ‹ÑÐ¾Ñ‚Ð° Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð° (Ñ‡ÑƒÑ‚ÑŒ Ð½Ð¸Ð¶Ðµ Ð²ÐµÑ€Ñ…Ð½ÐµÐ³Ð¾ ÐºÑ€Ð°Ñ)
    const edgeDrop    = 10;    // ÐºÑ€Ð°Ñ Ð½Ð¸Ð¶Ðµ (Ð´ÐµÑ€Ð¶Ð¸Ñ‚ÑÑ â€œÐ·Ð° ÐºÑ€Ð°Ð¹â€)
    const sagUp       = -18;   // !!! Ñ†ÐµÐ½Ñ‚Ñ€ Ð’Ð’Ð•Ð Ð¥: Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ (Ð¿Ð¾Ð´Ð½Ð¸Ð¼Ð¸: -24 / -30)
    const chaosA      = 10;    // Ñ…Ð°Ð¾Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ (8-14 Ð½Ð¾Ñ€Ð¼)
    const bulbDrop    = 18;    // Ð»Ð°Ð¼Ð¿Ð° Ð½Ð¸Ð¶Ðµ Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð°
    const minGap      = 34;    // Ñ€Ð°ÑÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¼ÐµÐ¶Ð´Ñƒ Ð»Ð°Ð¼Ð¿Ð°Ð¼Ð¸ (Ð¼ÐµÐ½ÑŒÑˆÐµ = Ð±Ð¾Ð»ÑŒÑˆÐµ Ð»Ð°Ð¼Ð¿)

    // Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ°
    garland.innerHTML = "";

    // Ñ€Ð°Ð·Ð¼ÐµÑ€Ñ‹ Ð¸Ð¼ÐµÐ½Ð½Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð° Ñ padding
    const cs   = getComputedStyle(garland);
    const padL = parseFloat(cs.paddingLeft)  || 0;
    const padR = parseFloat(cs.paddingRight) || 0;

    const rect = garland.getBoundingClientRect();
    const innerW = Math.max(320, rect.width - padL - padR);
    const H = 120; // Ð²Ñ‹ÑÐ¾Ñ‚Ð° SVG/Ð·Ð¾Ð½Ñ‹ Ð³Ð¸Ñ€Ð»ÑÐ½Ð´Ñ‹ (Ð¿Ð¾Ð´ Ñ‚Ð²Ð¾Ð¹ CSS)

    // --- Ð¿Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ñ…Ð°Ð¾Ñ‚Ð¸Ñ‡Ð½Ñ‹Ð¹ ÑˆÑƒÐ¼ (Ð±ÐµÐ· Ð´ÐµÑ€Ð³Ð°Ð½ÑŒÑ) ---
    const knots = Array.from({ length: 9 }, () => (Math.random() * 2 - 1));
    const smoothstep = (x) => x * x * (3 - 2 * x);
    const noise1D = (t) => {
      const n = knots.length - 1;
      const x = t * n;
      const i = Math.floor(x);
      const f = smoothstep(x - i);
      const a = knots[clamp(i, 0, n)];
      const b = knots[clamp(i + 1, 0, n)];
      return a + (b - a) * f; // ~[-1..1]
    };

    // --- SVG wire ---
    const svgNS = "http://www.w3.org/2000/svg";
    const svg = document.createElementNS(svgNS, "svg");
    svg.setAttribute("viewBox", `0 0 ${innerW} ${H}`);
    svg.setAttribute("preserveAspectRatio", "none");

    const path = document.createElementNS(svgNS, "path");
    path.setAttribute("class", "wire");

    const pts = [];
    const nPts = Math.floor(innerW / 40);
    for (let i = 0; i <= nPts; i++) {
      const t = i / nPts;
      const x = t * innerW;

      // Ð’ÐÐ–ÐÐž: Ñ†ÐµÐ½Ñ‚Ñ€ Ð²Ð²ÐµÑ€Ñ… -> sagUp Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹
      const y = wireBaseY
              + edgeDrop
              + Math.sin(t * Math.PI) * sagUp
              + noise1D(t) * chaosA;

      pts.push({ x, y: clamp(y, 6, H - 40) });
    }

    // Catmull-Rom -> Bezier
    let d = `M ${pts[0].x} ${pts[0].y}`;
    for (let i = 1; i < pts.length - 2; i++) {
      const p0 = pts[i - 1], p1 = pts[i], p2 = pts[i + 1], p3 = pts[i + 2];
      const c1x = p1.x + (p2.x - p0.x) / 6;
      const c1y = p1.y + (p2.y - p0.y) / 6;
      const c2x = p2.x - (p3.x - p1.x) / 6;
      const c2y = p2.y - (p3.y - p1.y) / 6;
      d += ` C ${c1x} ${c1y}, ${c2x} ${c2y}, ${p2.x} ${p2.y}`;
    }
    path.setAttribute("d", d);

    svg.appendChild(path);
    garland.appendChild(svg);

    // --- Bulbs ---
    const bulbsCount = Math.max(18, Math.floor(innerW / minGap));
    for (let i = 0; i < bulbsCount; i++) {
      const t = (bulbsCount === 1) ? 0.5 : i / (bulbsCount - 1);

      const x = padL + t * innerW;
      const wireY = wireBaseY
                  + edgeDrop
                  + Math.sin(t * Math.PI) * sagUp
                  + noise1D(t) * chaosA;

      const bulb = document.createElement("span");
      bulb.className = "bulb";

      const col = colors[i % colors.length];
      bulb.style.setProperty("--c", col);
      bulb.style.setProperty("--blink", (1.0 + Math.random() * 1.4) + "s");
      bulb.style.setProperty("--delay", (Math.random() * 1.2) + "s");

      bulb.style.left = x + "px";
      bulb.style.top  = (clamp(wireY, 6, H - 60) + bulbDrop + (Math.random() * 2 - 1)) + "px";

      // Ð²Ð½ÑƒÑ‚Ñ€ÑÐ½ÐºÐ°
      const halo = document.createElement("span"); halo.className = "halo";
      const cord = document.createElement("span"); cord.className = "cord";
      const cap  = document.createElement("span"); cap.className  = "cap";
      bulb.append(halo, cord, cap);

      garland.appendChild(bulb);
    }
  }

  buildGarland();
  window.addEventListener("resize", buildGarland, { passive: true });

  // =============================== SNOW ===============================
  const canvas = document.getElementById("snowCanvas");
  if (!canvas) return;

  const ctx = canvas.getContext("2d", { alpha: true });
  let w = 0, h = 0, dpr = 1;

  const flakes = [];
  const FLAKE_COUNT = 120; // 80 Ð»ÐµÐ³Ñ‡Ðµ / 160 Ð¿Ð»Ð¾Ñ‚Ð½ÐµÐµ

  function resizeSnow() {
    dpr = Math.min(window.devicePixelRatio || 1, 2);
    w = Math.floor(window.innerWidth);
    h = Math.floor(window.innerHeight);

    canvas.width  = Math.floor(w * dpr);
    canvas.height = Math.floor(h * dpr);
    canvas.style.width = w + "px";
    canvas.style.height = h + "px";

    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }

  function spawnFlake(resetY = false) {
    return {
      x: Math.random() * w,
      y: resetY ? -20 - Math.random() * h : Math.random() * h,
      r: 1 + Math.random() * 2.6,
      vy: 0.8 + Math.random() * 1.6,
      vx: -0.5 + Math.random() * 1.0,
      wobble: Math.random() * Math.PI * 2,
      wobbleSpeed: 0.01 + Math.random() * 0.02,
      opacity: 0.30 + Math.random() * 0.55
    };
  }

  function initSnow() {
    flakes.length = 0;
    for (let i = 0; i < FLAKE_COUNT; i++) flakes.push(spawnFlake(false));
  }

  let last = performance.now();
  function tick(now) {
    const dt = Math.min(33, now - last);
    last = now;

    ctx.clearRect(0, 0, w, h);

    for (const f of flakes) {
      f.wobble += f.wobbleSpeed * dt;
      f.x += (f.vx + Math.sin(f.wobble) * 0.25) * (dt / 16);
      f.y += f.vy * (dt / 16);

      if (f.y > h + 10 || f.x < -30 || f.x > w + 30) {
        Object.assign(f, spawnFlake(true));
      }

      ctx.globalAlpha = f.opacity;
      ctx.beginPath();
      ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
      ctx.fillStyle = "#ffffff";
      ctx.fill();
    }

    ctx.globalAlpha = 1;
    requestAnimationFrame(tick);
  }

  resizeSnow();
  initSnow();
  requestAnimationFrame(tick);

  window.addEventListener("resize", () => { resizeSnow(); initSnow(); }, { passive: true });
})();
</script>

