<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>How to Buy IBITIcoin</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Left top: Home -->
  <div class="corner-box corner-box-left">
    <a href="index.html">Home</a>
  </div>

  <!-- Left below: Blog -->
  <div class="corner-box corner-box-left2">
    <a href="blog.html">Blog</a>
  </div>

  <!-- Right top: Roadmap + language -->
  <div class="corner-box corner-box-right">
    <a href="roadmap.html">Roadmap</a> | 
    <a href="?lang=ru">RU</a> | 
    <a href="?lang=en">EN</a>
  </div>

  <header class="buy-header">
    <img src="img/logo.png" alt="IBITIcoin Logo" width="200">
    <h1>IBITIcoin</h1>
    <p>Stability | Innovation | Accessibility</p>
  </header>

  <section class="buy-section">
    <h2>How to Buy IBITIcoin</h2>

    <ol class="buy-steps">
      <li>Create a crypto wallet (MetaMask, Trust Wallet, Binance Wallet, etc.).</li>
      <li>Add the <strong>BNB Smart Chain (BEP-20)</strong> network to your wallet.</li>
      <li>Deposit <strong>USDT (BEP-20)</strong> or BNB to your wallet.</li>
      <li>
        Open the official <strong>IBITI/USDT</strong> pool on PancakeSwap and swap USDT → IBITI.  
        Always check that the token contract is
        <code>0x47F2FFCb164b2EeCCfb7eC436Dfb3637a457B9bb</code>.
      </li>
      <li>Hold, stake and use IBITI inside the ecosystem as new modules go live.</li>
    </ol>

    <!-- Main CTA button above the video -->
    <div style="text-align: center; margin: 20px 0;">
      <a class="btn-small"
         href="https://pancakeswap.finance/swap?chain=bsc&amp;outputCurrency=0x47F2FFCb164b2EeCCfb7eC436Dfb3637a457B9bb&amp;inputCurrency=0x55d398326f99059fF775485246999027B3197955"
         target="_blank"
         rel="noopener noreferrer">
        Open IBITI/USDT on PancakeSwap
      </a>
    </div>

    <button type="button" onclick="openAddTokenModal()"
      style="margin:10px 0;background:#0f172a;color:#d1fae5;border:1px solid #10b981;padding:10px 16px;border-radius:10px;cursor:pointer;">
      Add IBITI to wallet
    </button>

    <div style="text-align:center;">
      <iframe width="560" height="315"
              src="https://www.youtube.com/embed/gJZDnXdPTWs"
              title="How to Buy IBITIcoin" frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen>
      </iframe>
    </div>

    <footer>
      <p>&copy; 2025 IBITIcoin. All rights reserved.</p>
      <p>
        <a href="privacy.html">Privacy Policy</a> |
        <a href="terms.html">Terms of Use</a>
      </p>
      <p>
        <a href="https://twitter.com/IBITIcoin" target="_blank" rel="noopener">Twitter</a> |
        <a href="https://t.me/IBITIcoin_chat" target="_blank" rel="noopener">Telegram</a> |
        <a href="https://instagram.com/IBITIcoin_official" target="_blank" rel="noopener">Instagram</a> |
        <a href="https://facebook.com/IBITIcoin" target="_blank" rel="noopener">Facebook</a>
      </p>
      <p>
        <a href="mailto:info@ibiticoin.com">info@ibiticoin.com</a>
      </p>
    </footer>
  </section>

  <!-- ===== ADD IBITI TOKEN MODAL ===== -->
  <div id="addTokenModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:3000;align-items:center;justify-content:center;">
    <div style="background:#111;padding:18px 18px 14px;border:1px solid gold;border-radius:10px;max-width:420px;width:92%;color:#ffd700;position:relative;">
      <button onclick="closeAddTokenModal()" style="position:absolute;top:8px;right:10px;background:transparent;border:0;color:#fff;font-size:18px;cursor:pointer;">✕</button>
      <h3 style="margin:0 0 10px;font-size:18px;">Where do you want to add IBITI token?</h3>

      <div style="display:flex;flex-direction:column;gap:10px">
        <button onclick="addTokenEip747()" style="padding:10px 14px;border:1px solid #10b981;border-radius:8px;background:#052e2b;color:#d1fae5;cursor:pointer;">
          MetaMask / Trust Wallet / Binance Wallet (auto)
        </button>

        <details style="background:#0b0f1a;border:1px solid #333;border-radius:8px;padding:10px;">
          <summary style="cursor:pointer;color:#e5e7eb">Coinbase Wallet (manual import)</summary>
          <div style="margin-top:10px;color:#e5e7eb;font-size:14px;line-height:1.4">
            Open Coinbase Wallet → <b>Tokens</b> → <b>+</b> → <b>Import Token</b> → paste:
            <div style="margin-top:8px">
              <div>Contract: <code id="ctAddr">0x47F2FFCb164b2EeCCfb7eC436Dfb3637a457B9bb</code></div>
              <div>Symbol: <code>IBITI</code></div>
              <div>Decimals: <code>8</code></div>
            </div>
            <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap">
              <button onclick="copyText('#ctAddr')" style="padding:6px 10px;border:1px solid #3f3f46;border-radius:8px;background:#111827;color:#e5e7eb;cursor:pointer;">Copy address</button>
              <button onclick="openBscscan()" style="padding:6px 10px;border:1px solid #3f3f46;border-radius:8px;background:#111827;color:#e5e7eb;cursor:pointer;">Open in BscScan</button>
            </div>
          </div>
        </details>

        <div style="font-size:12px;color:#9ca3af;margin-top:4px">
          If you use mobile Trust Wallet, open this site in its DApp browser and tap the auto-add button.
        </div>
      </div>
    </div>
  </div>

  <!-- Token + add logic -->
  <script>
    const IBITI_TOKEN = {
      address: '0x47F2FFCb164b2EeCCfb7eC436Dfb3637a457B9bb',
      symbol:  'IBITI',
      decimals: 8,
      image:   'https://ibiticoin.com/img/IBITI-512.png'
    };

    // Modal: choose wallet
    function openAddTokenModal(){
      const m = document.getElementById('addTokenModal');
      m.style.display = 'flex';
      m.onclick = (e)=>{ if (e.target === m) closeAddTokenModal(); };
    }
    function closeAddTokenModal(){
      document.getElementById('addTokenModal').style.display='none';
    }

    // Install MetaMask modal
    function openInstallMM(){ 
      const m = document.getElementById('installMM'); 
      m.style.display='flex'; 
      m.onclick=(e)=>{ if(e.target===m) closeInstallMM(); }; 
    }
    function closeInstallMM(){ 
      document.getElementById('installMM').style.display='none'; 
    }

    function toast(msg){
      const el = document.getElementById('toastOK');
      el.textContent = msg;
      el.style.opacity = '1';
      clearTimeout(el._timer);
      el._timer = setTimeout(()=> el.style.opacity='0', 2600);
    }

    function hasEthereum(){
      return !!(window.ethereum && typeof window.ethereum.request === 'function');
    }

    // Main auto-add flow
    async function addTokenEip747(){
      if (!hasEthereum()){
        openInstallMM();
        return;
      }
      try {
        const bscId = '0x38'; // BSC mainnet
        const current = await window.ethereum.request({ method:'eth_chainId' });
        if (current !== bscId){
          try {
            await window.ethereum.request({ method:'wallet_switchEthereumChain', params:[{ chainId: bscId }] });
          } catch(e){
            if (e.code === 4902){
              await window.ethereum.request({
                method:'wallet_addEthereumChain',
                params:[{
                  chainId: bscId,
                  chainName:'BNB Smart Chain',
                  nativeCurrency:{ name:'BNB', symbol:'BNB', decimals:18 },
                  rpcUrls:['https://bsc-dataseed1.bnbchain.org'],
                  blockExplorerUrls:['https://bscscan.com']
                }]
              });
            } else { throw e; }
          }
        }

        const added = await window.ethereum.request({
          method:'wallet_watchAsset',
          params:{ type:'ERC20', options: IBITI_TOKEN }
        });

        if (added) {
          toast('✅ IBITI token added to your wallet');
          closeAddTokenModal();
        } else {
          toast('ℹ️ Token addition was cancelled');
        }
      } catch(err){
        if (err && err.code === 4001) {
          toast('ℹ️ Action cancelled by user');
        } else {
          console.error('Add IBITI error:', err);
          alert('Failed to add the token. Please make sure your wallet is installed and unlocked.');
        }
      }
    }

    // Coinbase helpers
    function copyText(sel){
      const text = document.querySelector(sel).textContent.trim();
      navigator.clipboard.writeText(text).then(()=>toast('✅ Address copied'));
    }
    function openBscscan(){
      window.open('https://bscscan.com/token/'+IBITI_TOKEN.address,'_blank');
    }
  </script>

  <!-- Toast -->
  <div id="toastOK" style="position:fixed;right:20px;bottom:24px;background:#0b0f1a;border:1px solid #10b981;color:#d1fae5;padding:10px 14px;border-radius:10px;opacity:0;pointer-events:none;transition:opacity .25s;z-index:4000"></div>

  <!-- Install MetaMask modal -->
  <div id="installMM" style="display:none;position:fixed;inset:0;z-index:4000;background:rgba(0,0,0,.6);align-items:center;justify-content:center">
    <div style="background:#111;border:1px solid gold;border-radius:10px;padding:18px;max-width:420px;width:92%;color:#ffd700;position:relative">
      <button onclick="closeInstallMM()" style="position:absolute;top:8px;right:10px;background:transparent;border:0;color:#fff;font-size:18px;cursor:pointer">✕</button>
      <h3 style="margin:0 0 10px">Install MetaMask</h3>
      <p style="color:#e5e7eb;margin:0 0 12px">
        To add the token automatically, you need a MetaMask (or compatible) wallet installed in your browser.
      </p>
      <a href="https://metamask.io/download/" target="_blank" rel="noopener"
         style="display:inline-block;padding:10px 14px;border:1px solid #10b981;border-radius:8px;background:#052e2b;color:#d1fae5;text-decoration:none">
        Download MetaMask
      </a>
    </div>
  </div>

</body>
</html>
