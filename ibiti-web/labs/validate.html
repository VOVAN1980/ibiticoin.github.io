<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IBITI Labs | Validate</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { background:'#020204', primary:'#3B82F6', accent:'#8B5CF6', cyan:'#06b6d4' },
          fontFamily: { sans:['Outfit','Inter','sans-serif'], mono:['JetBrains Mono','monospace'] }
        }
      }
    }
  </script>

  <style>
    body{background:#020204;color:#fff;overflow-x:hidden}
    #universe{position:fixed;inset:0;width:100%;height:100%;z-index:-1}
    .crystal{background:rgba(15,15,20,.4);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);
      border:1px solid rgba(255,255,255,.06);box-shadow:0 4px 30px rgba(0,0,0,.5),inset 0 0 0 1px rgba(255,255,255,.02)}
    .text-gradient{background:linear-gradient(to right,#a78bfa 10%,#60a5fa 55%,#22d3ee 95%);
      -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;background-size:200% auto;animation:textShine 6s linear infinite}
    @keyframes textShine{to{background-position:200% center}}
  </style>
</head>
<body>
  <canvas id="universe"></canvas>

  <nav class="fixed top-0 w-full z-50">
    <div class="absolute inset-0 bg-background/70 backdrop-blur-xl border-b border-white/5"></div>
    <div class="relative max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
      <a href="/ibiti-web/labs/index.html" class="flex items-center gap-2 text-sm text-white/50 hover:text-white transition group">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="group-hover:-translate-x-1 transition-transform"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
        <span class="hidden sm:inline">Back to EPK</span>
      </a>

      <div class="absolute left-1/2 -translate-x-1/2 flex items-center gap-3">
        <div class="relative w-6 h-6 flex items-center justify-center">
          <div class="absolute inset-0 bg-primary/40 blur-lg rounded-full"></div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-full h-full text-white relative z-10"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
        </div>
        <span class="font-bold tracking-tight text-lg">IBITI <span class="text-white/40 font-normal">Labs</span></span>
      </div>

      <div class="flex items-center gap-3">
        <a href="/ibiti-web/labs/docs.html" class="px-3 py-1.5 rounded-full bg-white/5 hover:bg-white/10 border border-white/10 text-[10px] font-mono tracking-widest text-white/70 transition">Docs</a>
      </div>
    </div>
  </nav>

  <main class="pt-28 pb-16 px-6">
    <section class="max-w-6xl mx-auto">
      <div class="text-center mb-10">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-white/60 text-[10px] font-mono tracking-widest uppercase">
          STEP 02
        </div>
        <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight mt-4"><span class="text-gradient">Validate</span></h1>
        <p class="text-white/50 mt-3 max-w-2xl mx-auto">
          The kernel proves the owner authorized this intent, checks replay protection, then applies optional policy validators.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-5 mb-8">
        <div class="crystal rounded-2xl p-6 border border-white/10">
          <div class="text-[10px] font-mono tracking-widest text-white/40 mb-2">WHAT IT DOES</div>
          <div class="text-sm text-white/70">Signature recovery + deadline/nonce checks + policy state (active/revoked).</div>
        </div>
        <div class="crystal rounded-2xl p-6 border border-white/10">
          <div class="text-[10px] font-mono tracking-widest text-white/40 mb-2">EXTENSION POINT</div>
          <div class="text-sm text-white/70">Optional Validator module enforces business rules (limits, allowlists, TTL, risk rules).</div>
        </div>
        <div class="crystal rounded-2xl p-6 border border-white/10">
          <div class="text-[10px] font-mono tracking-widest text-white/40 mb-2">SECURITY RESULT</div>
          <div class="text-sm text-white/70">If any check fails, execution never happens (atomic revert).</div>
        </div>
      </div>

      <div class="crystal rounded-2xl overflow-hidden border border-white/10">
        <div class="px-6 py-4 border-b border-white/5 bg-black/40 flex items-center justify-between">
          <div class="font-mono text-xs text-white/30 uppercase tracking-widest">VALIDATE — kernel gates</div>
          <div class="text-xs text-white/40 flex items-center gap-3">
            <a href="/ibiti-web/labs/index.html#integration" class="hover:text-white transition">Back</a>
            <a href="/ibiti-web/labs/docs.html" class="hover:text-white transition">Spec</a>
          </div>
        </div>

        <div class="p-6 md:p-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
             <div class="crystal rounded-2xl p-6 border border-white/10">
              <div class="text-[10px] font-mono tracking-widest text-white/40 mb-3">VALIDATION CHECKLIST</div>
              <ul class="text-sm text-white/60 space-y-2">
                <li>• policy is active (panic/revoked blocks instantly)</li>
                <li>• deadline not expired (anti-replay window)</li>
                <li>• nonce single-use (replay protection)</li>
                <li>• EIP-712 signature matches policy owner</li>
                <li>• optional validator validates intent</li>
              </ul>
            </div>

            <div class="crystal rounded-2xl p-6 border border-white/10">
               <div class="text-[10px] font-mono tracking-widest text-white/40 mb-3">VALIDATOR IDEAS</div>
               <ul class="text-sm text-white/60 space-y-2">
                <li>• spend limits (per-tx / rolling window)</li>
                <li>• allowlist / denylist targets</li>
                <li>• calldata constraints (selectors)</li>
                <li>• TTL rules for agents</li>
                <li>• “safe mode” for new integrations</li>
              </ul>
            </div>
          </div>

          <div class="mt-6 flex flex-wrap gap-3">
            <a href="/ibiti-web/labs/docs.html" class="px-5 py-3 rounded-xl bg-white text-black font-bold hover:opacity-90 transition">Read Spec</a>
            <a href="https://github.com/VOVAN1980/ibiti-epk-core" target="_blank"
               class="px-5 py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition">View GitHub</a>
            <a href="https://github.com/VOVAN1980/ibiti-epk-core/actions/workflows/ci.yml" target="_blank"
               class="px-5 py-3 rounded-xl border border-green-500/20 bg-green-500/5 text-green-400 hover:bg-green-500/10 transition">CI Logs</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const canvas=document.getElementById('universe'); const ctx=canvas.getContext('2d');
    let w,h,nodes=[];
    function resize(){w=canvas.width=innerWidth;h=canvas.height=innerHeight;init()} addEventListener('resize',resize);
    class Node{constructor(){this.x=Math.random()*w;this.y=Math.random()*h;this.vx=(Math.random()-.5)*.35;this.vy=(Math.random()-.5)*.35;this.r=Math.random()*2+.5}
      step(){this.x+=this.vx;this.y+=this.vy;if(this.x<0||this.x>w)this.vx*=-1;if(this.y<0||this.y>h)this.vy*=-1}
      draw(){ctx.fillStyle='rgba(255,255,255,.45)';ctx.beginPath();ctx.arc(this.x,this.y,this.r,0,Math.PI*2);ctx.fill()}}
    function init(){nodes=[];const c=innerWidth<768?40:110;for(let i=0;i<c;i++)nodes.push(new Node())}
    function loop(){ctx.clearRect(0,0,w,h);for(let i=0;i<nodes.length;i++){nodes[i].step();nodes[i].draw();
      for(let j=i+1;j<nodes.length;j++){const dx=nodes[i].x-nodes[j].x,dy=nodes[i].y-nodes[j].y;const d=Math.sqrt(dx*dx+dy*dy);
        if(d<120){ctx.strokeStyle=`rgba(139,92,246,${0.12*(1-d/120)})`;ctx.lineWidth=.6;ctx.beginPath();ctx.moveTo(nodes[i].x,nodes[i].y);ctx.lineTo(nodes[j].x,nodes[j].y);ctx.stroke()}}}
      requestAnimationFrame(loop)}
    resize();loop();
  </script>
</body>
</html>
