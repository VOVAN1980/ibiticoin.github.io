<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IBITI Labs | EPK v1</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        background: '#020204',
                        glass: 'rgba(255, 255, 255, 0.03)',
                        border: 'rgba(255, 255, 255, 0.08)',
                        primary: '#3B82F6',
                        accent: '#8B5CF6',
                        gold: '#FFD700',
                        cyan: '#06b6d4',
                        safe: '#10B981'
                    },
                    fontFamily: {
                        sans: ['Outfit', 'Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    animation: {
                        'slide-down': 'slideDown 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-glow': 'pulseGlow 4s ease-in-out infinite',
                        'shimmer': 'shimmer 3s linear infinite',
                    },
                    keyframes: {
                        slideDown: { from: { transform: 'translateY(-100%)' }, to: { transform: 'translateY(0)' } },
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-10px)' } },
                        pulseGlow: { '0%, 100%': { opacity: 0.5 }, '50%': { opacity: 0.8 } },
                        shimmer: { from: { backgroundPosition: '0 0' }, to: { backgroundPosition: '-200% 0' } }
                    }
                }
            }
        }
    </script>

    <style>
        /* --- UNIVERSE & GRAIN --- */
        body{
       background-color:#020204;
       color:#fff;
       overflow-x:hidden;

       position: relative;
       isolation: isolate;
     }

       #universe{
       position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;

      z-index: -10;
      pointer-events: none;

  /* если хочешь оставить затемнение — ок */
  mask-image: linear-gradient(to bottom, black 20%, rgba(0,0,0,0.8) 100%);
}
        
        /* --- CRYSTAL UI (PREMIUM LOOK) --- */
        .crystal {
            background: rgba(15, 15, 20, 0.4);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.06);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5), inset 0 0 0 1px rgba(255,255,255,0.02);
            transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        }
        .crystal:hover {
            border-color: rgba(255, 255, 255, 0.15);
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 20px 60px rgba(0,0,0, 0.6), inset 0 0 20px rgba(255,255,255,0.05);
            background: rgba(20, 20, 25, 0.6);
            z-index: 10;
        }

        /* --- TEXT GRADIENTS --- */
        .text-gradient-live {
            background: linear-gradient(to right, #60a5fa 10%, #a78bfa 50%, #22d3ee 90%);
            -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
            background-size: 200% auto; animation: textShine 6s linear infinite;
        }
        @keyframes textShine { to { background-position: 200% center; } }

        /* --- 3D CARDS & ANIMATIONS --- */
        .tilt-card { transform-style: preserve-3d; transform: perspective(1000px); }
        .tilt-inner { transform: translateZ(20px); }
        .reveal { opacity: 0; transform: translateY(30px); transition: all 1s cubic-bezier(0.16, 1, 0.3, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }

        /* --- TERMINAL --- */
        .scanline {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.3) 50%); background-size: 100% 4px; pointer-events: none; z-index: 2; opacity: 0.3;
        }
        .beam {
            position: absolute; top: -20%; left: 0; width: 100%; height: 30%;
            background: linear-gradient(to bottom, transparent, rgba(59, 130, 246, 0.15), transparent);
            animation: beam 4s linear infinite; z-index: 3;
        }
        @keyframes beam { 0% { top: -20%; } 100% { top: 120%; } }

        /* --- MODAL --- */
        #contact-modal { transition: opacity 0.3s ease, visibility 0.3s; }
        #contact-modal.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
        #contact-modal.flex { opacity: 1; visibility: visible; pointer-events: auto; }
        
        /* --- UTILS --- */
        .glow-text { text-shadow: 0 0 30px rgba(59, 130, 246, 0.4); }
        .feature-icon {
            background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.01));
            box-shadow: inset 0 0 0 1px rgba(255,255,255,0.08);
        }
        
        /* Mobile fixes */
        @media (max-width: 768px) {
            .tilt-card { transform: none !important; }
        }

         /* Recognition shimmer — subtle, premium */
.recog-shimmer {
  position: relative;
  overflow: hidden;
}
.recog-shimmer::after{
  content:"";
  position:absolute;
  inset:-2px;
  background: linear-gradient(110deg, transparent 0%, rgba(255,255,255,0.05) 40%, transparent 80%);
  background-size: 200% 100%;
  animation: shimmer 5.5s linear infinite;
  opacity: 0.35;
  pointer-events:none;
  mask-image: radial-gradient(circle at 30% 20%, black 0%, transparent 60%);
}
    </style>
</head>
<body class="selection:bg-primary/30 selection:text-white">

    <canvas id="universe"></canvas>

    <!-- NAVBAR -->
    <nav class="fixed top-0 w-full z-50 animate-slide-down">
        <div class="absolute inset-0 bg-background/70 backdrop-blur-xl border-b border-white/5"></div>
        <div class="relative max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <!-- Back Button -->
                <a href="/" class="flex items-center gap-2 text-sm text-white/50 hover:text-white transition group">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="group-hover:-translate-x-1 transition-transform"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
              <span class="hidden sm:inline">Back to Main</span>
           </a>

            <!-- Logo -->
            <div class="absolute left-1/2 -translate-x-1/2 flex items-center gap-3">
                <div class="relative w-6 h-6 flex items-center justify-center">
                    <div class="absolute inset-0 bg-primary/40 blur-lg rounded-full animate-pulse"></div>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-full h-full text-white relative z-10"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                </div>
                <span class="font-bold tracking-tight text-lg">IBITI <span class="text-white/40 font-normal">Labs</span></span>
            </div>

            <!-- Right Actions -->
            <div class="flex items-center gap-3">
                <!-- FX Toggle Button -->
                <button id="fx-toggle" onclick="toggleFX()" class="hidden md:flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-white/5 hover:bg-white/10 border border-white/10 text-[10px] font-mono tracking-widest text-green-400 transition">
                    <span class="w-1.5 h-1.5 rounded-full bg-green-400 shadow-[0_0_5px_currentColor]"></span>
                    FX: ON
                </button>

                 <a href="https://github.com/VOVAN1980/ibiti-epk-core" target="_blank" class="text-white/50 hover:text-white transition p-2 bg-white/5 rounded-full hover:bg-white/10" title="View Source">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                </a>
            </div>
        </div>
    </nav>

    <main class="relative pt-24 pb-12 px-6 overflow-hidden">
        
        <!-- 1. HERO SECTION -->
        <section class="mt-10 md:mt-20 mb-28 max-w-5xl mx-auto text-center relative z-10 perspective-1000">
            <div class="space-y-8 reveal active">
                
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-primary/30 bg-primary/10 text-primary text-[10px] md:text-xs font-mono tracking-widest uppercase mb-4 animate-float">
                    <span class="w-1.5 h-1.5 rounded-full bg-primary shadow-[0_0_10px_#3B82F6]"></span>
                    Kernel Active v1.0
                </div>

                <h1 class="text-5xl md:text-7xl lg:text-8xl font-extrabold tracking-tight leading-[1.1] glow-text">
                    Trust Your <br />
                    <span class="text-gradient-live">
                        Artificial Agents
                    </span>
                </h1>

                <p class="text-base md:text-xl text-white/50 max-w-2xl mx-auto leading-relaxed px-4">
                    The execution kernel for on-chain intelligence.
                    <span class="text-white border-b border-white/20">Immutable core</span>, modular validators, and instant revocation.
                </p>

                <div class="flex flex-col sm:flex-row items-center justify-center gap-4 pt-8 px-6">
                  <a href="/ibiti-web/labs/pilot.html"
                     class="w-full sm:w-auto px-8 py-4 rounded-xl bg-white text-black font-bold tracking-wide shadow-[0_0_30px_rgba(255,255,255,0.15)] hover:shadow-[0_0_50px_rgba(255,255,255,0.3)] transition-all transform hover:-translate-y-1">
                  Pilot / Partners
               </a>
                    <a href="docs.html" class="w-full sm:w-auto px-8 py-4 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 hover:border-white/20 transition backdrop-blur-md flex items-center justify-center gap-2 group">
                     <svg class="text-white/50 group-hover:text-white transition" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                       <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                         <line x1="16" y1="17" x2="8" y2="17"></line>
                          <polyline points="10 9 9 9 8 9"></polyline>
                         </svg>
                        <span>EPK v1 Docs</span>
                     </a>
                </div>
            </div>
        </section>

        <!-- 2. HOLOGRAPHIC CODE -->
<section class="max-w-4xl mx-auto mb-32 reveal">
  <div class="crystal rounded-xl overflow-hidden relative shadow-[0_0_80px_rgba(59,130,246,0.1)] border border-white/10">
    <div class="scanline"></div>
    <div class="beam"></div>

    <div class="px-6 py-4 border-b border-white/5 bg-black/40 flex items-center justify-between">
      <div class="flex gap-2">
        <div class="w-3 h-3 rounded-full bg-red-500/50"></div>
        <div class="w-3 h-3 rounded-full bg-yellow-500/50"></div>
        <div class="w-3 h-3 rounded-full bg-green-500/50"></div>
      </div>
      <div class="font-mono text-xs text-white/30 uppercase tracking-widest">EPKernel.sol (Read-Only)</div>
    </div>

    <!-- scrollable terminal body (Y-scroll only, no bottom X-scroll) -->
    <div class="p-6 md:p-8 bg-[#050508] scrollbar-hide max-h-[420px] overflow-y-auto overflow-x-hidden">

      <!-- source links -->
      <div class="mb-4 text-xs md:text-sm text-gray-500">
        <div class="font-semibold text-gray-400 opacity-80">execute() excerpt (v1, readability)</div>
        <div class="mt-1 text-gray-600">
          Omitted: struct declarations + helper bodies. Preserved: real check order (policy → expiry → agent → allowlist → value → nonce+EIP-712 → validator → nonce++ → call).
        </div>
        <div class="mt-2 flex flex-wrap gap-3">
          <a class="text-cyan-300 hover:text-cyan-200 underline"
             href="https://testnet.bscscan.com/address/0x0beEB0083C576B54DB99B4abEF0Dcbc5Bc70bF82#code"
             target="_blank" rel="noopener">Verified contract (BscScan)</a>

          <a class="text-cyan-300 hover:text-cyan-200 underline"
             href="https://github.com/VOVAN1980/ibiti-epk-core/blob/master/contracts/epk/EPKernel.sol"
             target="_blank" rel="noopener">Source (GitHub)</a>
        </div>
      </div>

      <pre class="font-mono text-xs md:text-sm leading-relaxed text-gray-400 whitespace-pre overflow-hidden">
<span class="text-white/20">140</span> <span class="text-purple-400">function</span> <span class="text-blue-400">execute</span>(
<span class="text-white/20">141</span>     <span class="text-yellow-200">uint256</span> policyId,
<span class="text-white/20">142</span>     <span class="text-yellow-200">address</span> target,
<span class="text-white/20">143</span>     <span class="text-yellow-200">uint256</span> value,
<span class="text-white/20">144</span>     <span class="text-yellow-200">bytes</span> <span class="text-purple-400">calldata</span> data,
<span class="text-white/20">145</span>     <span class="text-yellow-200">uint256</span> deadline,
<span class="text-white/20">146</span>     <span class="text-yellow-200">bytes</span> <span class="text-purple-400">calldata</span> signature
<span class="text-white/20">147</span> ) <span class="text-purple-400">external payable</span> <span class="text-purple-400">returns</span> (<span class="text-yellow-200">bytes</span> <span class="text-purple-400">memory</span> out) {
<span class="text-white/20">148</span>
<span class="text-white/20">149</span>     <span class="text-gray-600">// Omitted: Policy/AgentPermission struct declarations</span>
<span class="text-white/20">150</span>     <span class="text-gray-600">// Omitted: _hashTypedDataV4(), _recover(), _EXECUTE_TYPEHASH</span>
<span class="text-white/20">151</span>
<span class="text-white/20">152</span>     <span class="text-gray-600">// 1) Policy exists + active</span>
<span class="text-white/20">153</span>     Policy <span class="text-purple-400">memory</span> p = policies[policyId];
<span class="text-white/20">154</span>     <span class="text-purple-400">if</span> (p.owner == <span class="text-purple-400">address</span>(0)) <span class="text-purple-400">revert</span> <span class="text-cyan-400">PolicyNotFound</span>();
<span class="text-white/20">155</span>     <span class="text-purple-400">if</span> (!p.active) <span class="text-purple-400">revert</span> <span class="text-cyan-400">PolicyInactive</span>();
<span class="text-white/20">156</span>
<span class="text-white/20">157</span>     <span class="text-gray-600">// 2) Deadline required + fresh</span>
<span class="text-white/20">158</span>     <span class="text-purple-400">if</span> (deadline == 0) <span class="text-purple-400">revert</span> <span class="text-cyan-400">DeadlineRequired</span>();
<span class="text-white/20">159</span>     <span class="text-purple-400">if</span> (deadline &lt;= block.timestamp) <span class="text-purple-400">revert</span> <span class="text-cyan-400">Expired</span>();
<span class="text-white/20">160</span>
<span class="text-white/20">161</span>     <span class="text-gray-600">// 3) Effective expiry = min(policyTTL, deadline)</span>
<span class="text-white/20">162</span>     <span class="text-yellow-200">uint256</span> policyExpiry = (p.validUntil == 0)
<span class="text-white/20">163</span>         ? <span class="text-blue-300">type</span>(<span class="text-yellow-200">uint256</span>).max
<span class="text-white/20">164</span>         : <span class="text-yellow-200">uint256</span>(p.validUntil);
<span class="text-white/20">165</span>     <span class="text-yellow-200">uint256</span> effectiveExpiry = policyExpiry &lt; deadline ? policyExpiry : deadline;
<span class="text-white/20">166</span>     <span class="text-purple-400">if</span> (block.timestamp &gt; effectiveExpiry) <span class="text-purple-400">revert</span> <span class="text-cyan-400">Expired</span>();
<span class="text-white/20">167</span>
<span class="text-white/20">168</span>     <span class="text-gray-600">// 4) Agent permission (+ TTL)</span>
<span class="text-white/20">169</span>     AgentPermission <span class="text-purple-400">memory</span> ap = agentPermission[policyId][msg.sender];
<span class="text-white/20">170</span>     <span class="text-purple-400">if</span> (!ap.allowed) <span class="text-purple-400">revert</span> <span class="text-cyan-400">AgentNotAllowed</span>();
<span class="text-white/20">171</span>     <span class="text-purple-400">if</span> (ap.validUntil != 0 &amp;&amp; block.timestamp &gt; ap.validUntil) <span class="text-purple-400">revert</span> <span class="text-cyan-400">AgentExpired</span>();
<span class="text-white/20">172</span>
<span class="text-white/20">173</span>     <span class="text-gray-600">// 5) Target + selector allowlist</span>
<span class="text-white/20">174</span>     <span class="text-purple-400">if</span> (data.length &lt; 4) <span class="text-purple-400">revert</span> <span class="text-cyan-400">CallNotAllowed</span>();
<span class="text-white/20">175</span>     <span class="text-yellow-200">bytes4</span> selector = <span class="text-blue-300">bytes4</span>(data[:4]);
<span class="text-white/20">176</span>     <span class="text-yellow-200">bytes32</span> callKey = <span class="text-blue-300">keccak256</span>(abi.encodePacked(target, selector));
<span class="text-white/20">177</span>     <span class="text-purple-400">if</span> (!callAllowed[policyId][callKey]) <span class="text-purple-400">revert</span> <span class="text-cyan-400">CallNotAllowed</span>();
<span class="text-white/20">178</span>
<span class="text-white/20">179</span>     <span class="text-gray-600">// 6) Value bound + exact msg.value match</span>
<span class="text-white/20">180</span>     <span class="text-purple-400">if</span> (value &gt; p.maxValuePerCall) <span class="text-purple-400">revert</span> <span class="text-cyan-400">ValueTooHigh</span>();
<span class="text-white/20">181</span>     <span class="text-purple-400">if</span> (msg.value != value) <span class="text-purple-400">revert</span> <span class="text-cyan-400">MsgValueMismatch</span>();
<span class="text-white/20">182</span>
<span class="text-white/20">183</span>     <span class="text-gray-600">// 7) Nonce + EIP-712 owner signature</span>
<span class="text-white/20">184</span>     <span class="text-yellow-200">uint256</span> nonce = nonces[policyId];
<span class="text-white/20">185</span>     <span class="text-yellow-200">bytes32</span> digest = <span class="text-blue-300">_hashTypedDataV4</span>(
<span class="text-white/20">186</span>         <span class="text-blue-300">keccak256</span>(abi.encode(
<span class="text-white/20">187</span>             _EXECUTE_TYPEHASH, policyId, target, value, <span class="text-blue-300">keccak256</span>(data), nonce, deadline
<span class="text-white/20">188</span>         ))
<span class="text-white/20">189</span>     );
<span class="text-white/20">190</span>     <span class="text-yellow-200">address</span> signer = <span class="text-blue-300">_recover</span>(digest, signature);
<span class="text-white/20">191</span>     <span class="text-purple-400">if</span> (signer != p.owner) <span class="text-purple-400">revert</span> <span class="text-cyan-400">BadSignature</span>();
<span class="text-white/20">192</span>
<span class="text-white/20">193</span>     <span class="text-gray-600">// 8) Optional validator</span>
<span class="text-white/20">194</span>     <span class="text-purple-400">if</span> (p.validator != <span class="text-purple-400">address</span>(0)) {
<span class="text-white/20">195</span>         IPolicyValidator(p.validator).<span class="text-blue-400">validate</span>(policyId, p.owner, msg.sender, target, value, data);
<span class="text-white/20">196</span>     }
<span class="text-white/20">197</span>
<span class="text-white/20">198</span>     <span class="text-gray-600">// 9) Nonce++ then atomic call (revert bubbles up)</span>
<span class="text-white/20">199</span>     nonces[policyId] = nonce + 1;
<span class="text-white/20">200</span>     (bool ok, <span class="text-yellow-200">bytes</span> <span class="text-purple-400">memory</span> ret) = target.<span class="text-blue-400">call</span>{value: value}(data);
<span class="text-white/20">201</span>     <span class="text-purple-400">if</span> (!ok) { <span class="text-gray-600">/* assembly { revert(add(ret, 32), mload(ret)) } */</span> }
<span class="text-white/20">202</span>     <span class="text-purple-400">emit</span> <span class="text-blue-400">Executed</span>(policyId, p.owner, msg.sender, target, selector, value);
<span class="text-white/20">203</span>     <span class="text-purple-400">return</span> ret;<span class="animate-pulse text-primary">_</span>
<span class="text-white/20">204</span> }</pre>
    </div>
  </div>
</section>

        <!-- 3. REAL STATS -->
        <section id="security" class="max-w-6xl mx-auto mb-32 reveal">
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left border-y border-white/5 bg-white/[0.01] rounded-2xl p-8 md:p-12">
    <div>
      <div class="flex items-baseline justify-center md:justify-start gap-2">
        <div id="corePassed" class="text-4xl md:text-5xl font-bold text-white tabular-nums">0</div>
        <div id="coreTotal" class="text-2xl text-green-400 font-mono">/ 0</div>
      </div>
      <div class="text-xs font-mono text-white/40 uppercase tracking-widest mt-2">Core Tests Passing</div>
    </div>

    <div>
      <div class="flex items-baseline justify-center md:justify-start gap-2">
        <div id="invChecks" class="text-4xl md:text-5xl font-bold text-white tabular-nums">0</div>
        <div class="text-2xl text-primary font-mono">+</div>
      </div>
      <div class="text-xs font-mono text-white/40 uppercase tracking-widest mt-2">Invariant Checks</div>
    </div>

    <div class="flex flex-col justify-center items-center md:items-start">
      <p class="text-sm text-white/40 mb-3">Verified by fuzzing & formal verification.</p>
      <a href="https://github.com/VOVAN1980/ibiti-epk-core/actions/workflows/ci.yml" target="_blank" class="inline-flex items-center gap-2 text-xs font-mono text-green-400 border border-green-500/20 bg-green-500/5 px-3 py-2 rounded hover:bg-green-500/10 transition">
        <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
        VIEW LIVE CI LOGS
        <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17l9.2-9.2M17 17V7H7"/></svg>
      </a>
    </div>
  </div>
</section>

        <!-- 4. SYSTEM ARCHITECTURE -->
        <section id="features" class="max-w-6xl mx-auto mb-32 reveal">
            <div class="flex flex-col md:flex-row justify-between items-end mb-12 px-2">
                <h2 class="text-3xl font-bold">System Architecture</h2>
                <div class="text-white/30 text-sm mt-2 md:mt-0">Modular security for autonomous agents</div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-5">
                <!-- Feature 1 -->
                <a href="/ibiti-web/labs/immutable-core.html" class="block group">
                  <div class="crystal p-8 rounded-2xl hover:cursor-pointer">
                    <div class="feature-icon w-10 h-10 rounded-lg flex items-center justify-center mb-6 text-primary">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                      </svg>
                    </div>
                  <h3 class="font-bold text-lg text-white mb-3">Immutable Core</h3>
                  <p class="text-sm text-white/50 leading-relaxed">
                   The kernel code is frozen. No upgrades, no proxy admin backdoors. Pure mathematical security.
                  </p>
              </div>
              </a>

                <!-- Feature 2 -->
                <a href="/ibiti-web/labs/eip712-native.html" class="crystal p-8 rounded-2xl group block">
                 <div class="feature-icon w-10 h-10 rounded-lg flex items-center justify-center mb-6 text-accent">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                   <path d="M4 17l6-6-6-6M12 19h8"/>
                  </svg>
                </div>
               <h3 class="font-bold text-lg text-white mb-3">EIP-712 Native</h3>
               <p class="text-sm text-white/50 leading-relaxed">
                Agents sign typed data intents. Human-readable signatures that wallets understand natively.
               </p>
             </a>

                <!-- Feature 3 -->
                <a href="/ibiti-web/labs/panic-mode.html" class="crystal p-8 rounded-2xl group block">
                 <div class="feature-icon w-10 h-10 rounded-lg flex items-center justify-center mb-6 text-cyan-400">
                   <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                     <circle cx="12" cy="12" r="10"></circle>
                     <line x1="12" y1="8" x2="12" y2="12"></line>
                     <line x1="12" y1="16" x2="12.01" y2="16"></line>
                    </svg>
                  </div>
                  <h3 class="font-bold text-lg text-white mb-3">Panic Mode</h3>
                 <p class="text-sm text-white/50 leading-relaxed">
                Instant revocation. One transaction blocks all agent activity in milliseconds.
               </p>
            </a>
        </section>

        <!-- 5. EXECUTION PIPELINE -->
        <section id="integration" class="max-w-6xl mx-auto py-12 relative reveal">
            <h2 class="text-3xl font-bold mb-16 text-center">Execution Pipeline</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
                <!-- Card 1 -->
                <a href="/ibiti-web/labs/sign-intent.html" class="crystal rounded-2xl p-8 tilt-card group relative overflow-hidden block">
                  <div class="absolute top-0 right-0 w-24 h-24 bg-primary/10 rounded-bl-full -mr-4 -mt-4 transition-all group-hover:bg-primary/20"></div>
                    <div class="tilt-inner relative z-10">
                      <div class="text-4xl font-bold text-white/10 mb-6">01</div>
                    <h3 class="text-xl font-bold mb-3 text-white group-hover:text-primary transition-colors">Sign Intent</h3>
                   <p class="text-sm text-white/50 leading-relaxed">Agent constructs transaction. Owner signs message off-chain using EIP-712 standards.</p>
                </div>
             </a>

                <!-- Card 2 -->
                <a href="/ibiti-web/labs/validate.html" class="crystal rounded-2xl p-8 tilt-card group relative overflow-hidden block">
                 <div class="absolute top-0 right-0 w-24 h-24 bg-accent/10 rounded-bl-full -mr-4 -mt-4 transition-all group-hover:bg-accent/20"></div>
                   <div class="tilt-inner relative z-10">
                      <div class="text-4xl font-bold text-white/10 mb-6">02</div>
                        <h3 class="text-xl font-bold mb-3 text-white group-hover:text-accent transition-colors">Validate</h3>
                     <p class="text-sm text-white/50 leading-relaxed">Kernel checks signature & Nonce. Delegates logical checks to attached Validator modules.</p>
                    </div>
                   </a>

                <!-- Card 3 -->
                <a href="/ibiti-web/labs/execute.html" class="crystal rounded-2xl p-8 tilt-card group relative overflow-hidden block">
                  <div class="absolute top-0 right-0 w-24 h-24 bg-cyan-500/10 rounded-bl-full -mr-4 -mt-4 transition-all group-hover:bg-cyan-500/20"></div>
                    <div class="tilt-inner relative z-10">
                       <div class="text-4xl font-bold text-white/10 mb-6">03</div>
                          <h3 class="text-xl font-bold mb-3 text-white group-hover:text-cyan-400 transition-colors">Execute</h3>
                       <p class="text-sm text-white/50 leading-relaxed">Low-level call executes. Any security violation triggers an instant atomic revert.</p>
                    </div>
                  </a>
        </section>

               <!-- 6. RECOGNITION (TOP-INFRA STYLE) -->
   <section id="recognition" class="max-w-6xl mx-auto py-24 relative reveal">
   <!-- subtle bg glow -->
   <div class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-0 -translate-x-1/2 w-[900px] h-[360px] rounded-full blur-3xl opacity-40"
         style="background: radial-gradient(circle at 50% 50%, rgba(59,130,246,0.22), rgba(139,92,246,0.14), transparent 70%);">
    </div>
  </div>

  <div class="text-center mb-14">
    <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-white/70 text-[10px] md:text-xs font-mono tracking-widest uppercase">
      <span class="w-1.5 h-1.5 rounded-full bg-green-400 shadow-[0_0_10px_rgba(16,185,129,0.6)]"></span>
      Ecosystem validation
    </div>

    <h2 class="text-3xl md:text-4xl font-bold mt-5">Recognition</h2>
    <p class="text-sm md:text-base text-white/45 mt-3 max-w-2xl mx-auto">
      Independent signals that EPK is real, shipped, and worth integrating.
    </p>
  </div>

  <!-- logos row -->
  <div class="flex flex-col md:flex-row items-stretch justify-center gap-6 md:gap-8">
    <!-- Item 1 -->
    <a href="#" class="group crystal rounded-2xl px-7 py-7 md:px-10 md:py-8 flex-1 min-w-[280px] max-w-[520px] block">
      <div class="flex items-center justify-between gap-6">
        <div class="flex items-center gap-4">
          <!-- your logo: /img/... -->
          <img src="img/dorahacks.svg"> alt="DoraHacks" class="h-9 md:h-10 opacity-80 grayscale group-hover:grayscale-0 group-hover:opacity-100 transition" />
          <div class="text-left">
            <div class="text-white font-semibold leading-tight">DoraHacks</div>
            <div class="text-white/45 text-sm">OpenClaw Edition — Winner</div>
          </div>
        </div>

        <div class="text-white/30 group-hover:text-white/60 transition">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M7 17l9.2-9.2M17 17V7H7"/>
          </svg>
        </div>
      </div>

      <div class="mt-6 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"></div>

      <div class="mt-5 flex items-center justify-between">
        <div class="text-xs font-mono text-white/35 uppercase tracking-widest">Signal</div>
        <div class="text-xs font-mono text-green-400 tracking-widest">VALIDATED</div>
      </div>
    </a>

    <!-- Item 2 -->
    <a href="#" class="group crystal rounded-2xl px-7 py-7 md:px-10 md:py-8 flex-1 min-w-[280px] max-w-[520px] block">
      <div class="flex items-center justify-between gap-6">
        <div class="flex items-center gap-4">
          <!-- your logo: /img/... -->
          <img src="img/bnbchain.svg"> alt="BNB Chain" class="h-9 md:h-10 opacity-80 grayscale group-hover:grayscale-0 group-hover:opacity-100 transition" />
          <div class="text-left">
            <div class="text-white font-semibold leading-tight">BNB Chain</div>
            <div class="text-white/45 text-sm">AI Agent Ecosystem / OpenClaw Track</div>
          </div>
        </div>

        <div class="text-white/30 group-hover:text-white/60 transition">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M7 17l9.2-9.2M17 17V7H7"/>
          </svg>
        </div>
      </div>

      <div class="mt-6 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"></div>

      <div class="mt-5 flex items-center justify-between">
        <div class="text-xs font-mono text-white/35 uppercase tracking-widest">Focus</div>
        <div class="text-xs font-mono text-primary tracking-widest">AGENTS</div>
      </div>
    </a>
  </div>

  <!-- tiny footnote -->
  <div class="text-center mt-10 text-xs text-white/30">
    Open-source core • Testnet deployed • CI green
  </div>
</section>

    </main>

    <!-- FOOTER -->
    <footer class="border-t border-white/5 py-16 bg-[#010101] relative z-10">
        <div class="max-w-6xl mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-start gap-12 mb-16">
                <!-- Brand -->
                <div class="max-w-sm">
                    <div class="flex items-center gap-2 mb-6">
                         <div class="w-2 h-2 rounded-full bg-primary shadow-[0_0_10px_#3B82F6]"></div>
                         <span class="font-bold tracking-tight text-xl text-white">IBITI <span class="text-white/40 font-normal">Labs</span></span>
                    </div>
                    <p class="text-sm text-white/40 leading-relaxed">
                        Pioneering the security layer for the autonomous agent economy. Built for speed, security, and immutability.
                    </p>
                    
                    <div class="mt-8 flex gap-4">
                        <!-- X (Twitter) -->
                        <a href="https://x.com/ibiticoin" target="_blank" class="w-10 h-10 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center text-white/60 hover:text-white transition border border-white/5">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                        </a>
                        <!-- Website -->
                        <a href="https://www.ibiticoin.com/" target="_blank" class="w-10 h-10 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center text-white/60 hover:text-white transition border border-white/5">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                        </a>
                        <!-- Github -->
                        <a href="https://github.com/VOVAN1980/ibiti-epk-core" target="_blank" class="w-10 h-10 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center text-white/60 hover:text-white transition border border-white/5">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                        </a>
                    </div>
                </div>
                
                <!-- Links Grid -->
                <div class="grid grid-cols-2 gap-12 text-sm w-full md:w-auto">
                    <div>
                        <h4 class="font-bold text-white mb-6">Product</h4>
                        <ul class="space-y-4 text-white/50">
                            <li><a href="#features" class="hover:text-primary transition">Features</a></li>
                            <li><a href="#integration" class="hover:text-primary transition">Integration</a></li>
                            <li><a href="#security" class="hover:text-primary transition">Security</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-white mb-6">Company</h4>
                        <ul class="space-y-4 text-white/50">
                            <li><a href="#" class="hover:text-primary transition">About</a></li>
                            <li><a href="#" class="hover:text-primary transition">Careers</a></li>
                            <li><a href="mailto:info@ibiticoin.com" class="hover:text-primary transition">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-white/20">
                <p>&copy; 2026 IBITI Inc. All rights reserved.</p>
                <div class="flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full bg-green-500"></span>
                    <span>All Systems Operational</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- CONTACT MODAL -->
    <div id="contact-modal" class="hidden fixed inset-0 z-[100] flex items-center justify-center px-4">
        <div onclick="toggleModal(false)" class="absolute inset-0 bg-black/80 backdrop-blur-md"></div>
        <div class="crystal max-w-md w-full rounded-2xl p-8 relative transform transition-all scale-100 z-10 border border-white/10">
            <button onclick="toggleModal(false)" class="absolute top-4 right-4 text-white/40 hover:text-white transition">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
            </button>
            <h2 class="text-2xl font-bold text-white mb-2">Get in touch</h2>
            <p class="text-white/50 text-sm mb-8">We are currently in private beta. Reach out for pilot access.</p>
            <div class="space-y-4">
                <a href="mailto:info@ibiticoin.com" class="block p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition flex items-center gap-4 group">
                    <div class="w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-primary group-hover:scale-110 transition-transform">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                    </div>
                    <div>
                        <div class="text-xs text-white/40 uppercase tracking-wide">Email Us</div>
                        <span class="text-white font-medium">info@ibiticoin.com</span>
                    </div>
                </a>
                <a href="https://x.com/ibiticoin" target="_blank" class="block p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition flex items-center gap-4 group">
                    <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white group-hover:scale-110 transition-transform">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                    </div>
                    <div>
                        <div class="text-xs text-white/40 uppercase tracking-wide">Follow Updates</div>
                        <span class="text-white font-medium">@ibiticoin</span>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script>
        // --- MODAL ---
        function toggleModal(show) {
            const modal = document.getElementById('contact-modal');
            if(show) { 
                modal.classList.remove('hidden'); 
                setTimeout(() => modal.classList.add('flex'), 10); 
                document.body.style.overflow = 'hidden'; 
            } else { 
                modal.classList.remove('flex'); 
                setTimeout(() => modal.classList.add('hidden'), 300); 
                document.body.style.overflow = ''; 
            }
        }

        // --- INTERACTIVE UNIVERSE BACKGROUND ---
        const canvas = document.getElementById('universe');
        const ctx = canvas.getContext('2d');
        let width, height, nodes = [];
        let fxEnabled = true;
        let animationId;
        
        // Mouse Tracking for Interaction
        let mouse = { x: null, y: null, radius: 200 };
        
        window.addEventListener('mousemove', (e) => {
            mouse.x = e.x;
            mouse.y = e.y;
        });

        function resize() { 
            width = canvas.width = window.innerWidth; 
            height = canvas.height = window.innerHeight; 
            initNodes(); 
        }
        
        window.addEventListener('resize', resize);
        
        class Node {
            constructor() { 
                this.x = Math.random() * width; 
                this.y = Math.random() * height; 
                this.vx = (Math.random() - 0.5) * 0.5; 
                this.vy = (Math.random() - 0.5) * 0.5; 
                this.size = Math.random() * 2 + 0.5; // Bigger variation
                this.baseX = this.x;
                this.baseY = this.y;
            }
            update() { 
                // Regular movement
                this.x += this.vx; 
                this.y += this.vy; 

                // Wall bounce
                if(this.x < 0 || this.x > width) this.vx *= -1; 
                if(this.y < 0 || this.y > height) this.vy *= -1; 

                // MOUSE INTERACTION (The "Playful" Part)
                if (mouse.x != null) {
                    let dx = mouse.x - this.x;
                    let dy = mouse.y - this.y;
                    let distance = Math.sqrt(dx*dx + dy*dy);
                    
                    if (distance < mouse.radius) {
                        const forceDirectionX = dx / distance;
                        const forceDirectionY = dy / distance;
                        const force = (mouse.radius - distance) / mouse.radius;
                        const directionX = forceDirectionX * force * 3; // Strength
                        const directionY = forceDirectionY * force * 3;
                        
                        this.x += directionX;
                        this.y += directionY;
                    }
                }
            }
            draw() { 
                ctx.fillStyle = `rgba(255,255,255,${0.3 + Math.random()*0.2})`; 
                ctx.beginPath(); 
                ctx.arc(this.x,this.y,this.size,0,Math.PI*2); 
                ctx.fill(); 
            }
        }
        
        function initNodes() { 
            nodes=[]; 
            // More particles for better look, less on mobile
            const count = window.innerWidth < 768 ? 50 : 130;
            for(let i=0;i<count;i++) nodes.push(new Node()); 
        }
        
        function animate() {
            if(!fxEnabled) return;
            
            ctx.clearRect(0,0,width,height);
            
            for(let i=0; i<nodes.length; i++) {
                nodes[i].update(); 
                nodes[i].draw();
                
                // Connect to other nodes
                for(let j=i; j<nodes.length; j++) {
                    const dx = nodes[i].x - nodes[j].x;
                    const dy = nodes[i].y - nodes[j].y;
                    const d = Math.sqrt(dx*dx + dy*dy);
                    
                    if(d < 120) { 
                        ctx.beginPath();
                        ctx.strokeStyle = `rgba(100,150,255,${0.15 * (1 - d/120)})`; 
                        ctx.lineWidth = 0.5;
                        ctx.moveTo(nodes[i].x,nodes[i].y); 
                        ctx.lineTo(nodes[j].x,nodes[j].y); 
                        ctx.stroke(); 
                    }
                }
                
                // Connect to Mouse (Neural connection feel)
                if (mouse.x != null) {
                    const dx = nodes[i].x - mouse.x;
                    const dy = nodes[i].y - mouse.y;
                    const d = Math.sqrt(dx*dx + dy*dy);
                    if (d < 150) {
                        ctx.beginPath();
                        ctx.strokeStyle = `rgba(139, 92, 246, ${0.2 * (1 - d/150)})`; // Purple tint for interaction
                        ctx.lineWidth = 0.8;
                        ctx.moveTo(nodes[i].x, nodes[i].y);
                        ctx.lineTo(mouse.x, mouse.y);
                        ctx.stroke();
                    }
                }
            }
            animationId = requestAnimationFrame(animate);
        }

        // --- FX TOGGLE LOGIC ---
        function toggleFX() {
            fxEnabled = !fxEnabled;
            const btn = document.getElementById('fx-toggle');
            const span = btn.querySelector('span');
            
            if(fxEnabled) {
                btn.innerHTML = `<span class="w-1.5 h-1.5 rounded-full bg-green-400 shadow-[0_0_5px_currentColor]"></span> FX: ON`;
                btn.classList.remove('text-red-400');
                btn.classList.add('text-green-400');
                animate();
            } else {
                btn.innerHTML = `<span class="w-1.5 h-1.5 rounded-full bg-red-400"></span> FX: OFF`;
                btn.classList.remove('text-green-400');
                btn.classList.add('text-red-400');
                cancelAnimationFrame(animationId);
                ctx.clearRect(0,0,width,height); // Clear canvas
            }
        }
        
        // Start
        resize(); 
        animate();

        // --- TILT & REVEAL ---
        if (window.matchMedia("(min-width: 768px)").matches) {
            document.querySelectorAll('.tilt-card').forEach(c => {
                c.addEventListener('mousemove', e => {
                    const r = c.getBoundingClientRect(); 
                    c.style.transform = `perspective(1000px) rotateX(${-(e.clientY-r.top-r.height/2)/20}deg) rotateY(${(e.clientX-r.left-r.width/2)/20}deg)`;
                });
                c.addEventListener('mouseleave', () => c.style.transform = 'perspective(1000px) rotateX(0) rotateY(0)');
            });
        }
        
        const obs = new IntersectionObserver(es => es.forEach(e => {
            if(e.isIntersecting) e.target.classList.add('active');
        }), {threshold: 0.1});
        document.querySelectorAll('.reveal').forEach(el => obs.observe(el));

        // --- STATS COUNT-UP (run when section is visible OR opened by #security) ---
(() => {
  let statsStarted = false;

  // ТЕКУЩИЕ ЧИСЛА ИЗ ТВОЕГО ЛОГА
  const TESTS = 202;
  const INVAR = 128000;

  function animateValue(el, to, ms, formatter) {
    const start = performance.now();
    function tick(now) {
      const p = Math.min((now - start) / ms, 1);
      const eased = 1 - Math.pow(1 - p, 3); // easeOutCubic
      const v = Math.round(to * eased);
      el.textContent = formatter ? formatter(v) : String(v);
      if (p < 1) requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);
  }

  function runStats() {
    if (statsStarted) return;
    statsStarted = true;

    const corePassed = document.getElementById('corePassed');
    const coreTotal  = document.getElementById('coreTotal');
    const invChecks  = document.getElementById('invChecks');
    if (!corePassed || !coreTotal || !invChecks) return;

    animateValue(corePassed, TESTS, 1200);
    animateValue(coreTotal, TESTS, 1200, v => `/ ${v}`);
    animateValue(invChecks, INVAR, 1500, v => (v >= 1000 ? `${(v/1000).toFixed(v % 1000 === 0 ? 0 : 1)}k` : String(v)));
  }

  const statsSection = document.getElementById('security');
  if (!statsSection) return;

  const statsObserver = new IntersectionObserver((entries) => {
    if (entries[0].isIntersecting) {
      runStats();
      statsObserver.disconnect();
    }
  }, { threshold: 0.35 });

  statsObserver.observe(statsSection);

  // Если заходят сразу по якорю ...#security
  function runOnHash() {
    if (location.hash === '#security') {
      requestAnimationFrame(() => requestAnimationFrame(runStats));
    }
  }
  window.addEventListener('load', runOnHash);
  window.addEventListener('hashchange', runOnHash);
})();

 </script>
</body>
</html>











